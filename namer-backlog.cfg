[namer]

# Backlog-specific config: runs the same web service inside the container on 6980
# and binds to all interfaces. Use this for the `namer-backlog` container.
metadata_provider = stashdb

# Tokens are sourced from environment (STASHDB_TOKEN / TPDB_TOKEN)
porndb_token = 
stashdb_token = 

# Naming
name_parser = {_site}{_sep}{_optional_date}{_ts}{_name}{_dot}{_ext}
inplace_name={full_site} - {date} - {name} - [WEBDL-{resolution}].mp4
prefer_dir_name_if_available = true
min_file_size = 200
write_namer_log = false
write_namer_failed_log = false
target_extensions = mp4,mkv,avi,mov,flv
update_permissions_ownership = false
set_dir_permissions = 775
set_file_permissions = 664
set_uid = 99
set_gid = 100
trailer_location = 
sites_with_no_date_info = 
movie_data_preferred = missax
vr_studios = 18 VR,Babe VR,Badoink VR,Dorm Room,Kink VR,Real VR,RealJamVR,Sex Like Real,SexBabesVR,SinsVR,SLR Originals,Swallowbay,Virtual Taboo,VirtualRealPorn,VR Bangers,VR Cosplay X,VR Hush,VRConk,VRedging,Wankz VR
vr_tags = virtual reality, vr porn
site_abbreviations = {"bex" : "BrazzersExxtra", "ps": "PropertySex"}
max_performer_names = 1
plex_hack = false
path_cleanup = true

# Paths
# These should point at the backlog mount path in the namer-backlog container
# Adjust if your host paths differ
# For backlog, often the "watch" is empty and you process existing media.
database_path = /app/database
use_database = true
use_requests_cache = true
requests_cache_expire_minutes = 10
convert_container_to = 

[Phash]
search_phash = true
send_phash = true
max_ffmpeg_workers = 2
use_alt_phash_tool = true
use_gpu = true
ffmpeg_hwaccel_backend = vaapi
ffmpeg_hwaccel_device = /dev/dri/renderD129
# Leave decoder empty for mixed libraries; ffmpeg will pick based on input codec
ffmpeg_hwaccel_decoder = 

[metadata]
write_nfo = false
enabled_tagging = false
enabled_poster = false
download_type = poster,background,performer
image_format = png
enable_metadataapi_genres = false
default_genre = adult
language = eng
mark_collected = false

data_path = /app/media

[duplicates]
preserve_duplicates = true
max_desired_resolutions = -1
desired_codec = av1, hevc, h264

[watchdog]
ignored_dir_regex = .*_UNPACK_.*
del_other_files = true
extra_sleep_time = 30
queue_limit = 5
queue_sleep_time = 5
new_relative_path_name={full_site} - {date} - {name} [WEBDL-{resolution}].mp4
watch_dir = /app/media/1-watch
work_dir = /app/media/2-work
failed_dir = /app/media/4-failed
dest_dir = /app/media/3-import
retry_time = 
web = true
# Important: container listens on 6980; host maps 6982:6980 in compose
port = 6980
host = 0.0.0.0
web_root = 
allow_delete_files = true
add_columns_from_log = true
add_complete_column = true
debug = false
console_format = <green>{time:YYYY-MM-DD HH:mm:ss}</green> | <level>{level.icon} {level: <8}</level> | {message}
manual_mode = false
diagnose_errors = false
