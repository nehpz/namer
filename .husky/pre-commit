#!/bin/sh
. "$(dirname -- "$0")/_/husky.sh"

# Get the repository root directory
REPO_ROOT="$(git rev-parse --show-toplevel)"

# Enforce pnpm usage
if [ ! -x "$REPO_ROOT/scripts/enforce-pnpm.sh" ]; then
  echo "‚ùå Error: enforce-pnpm.sh not found or not executable"
  exit 1
fi

"$REPO_ROOT/scripts/enforce-pnpm.sh"

# Run lint-staged
pnpm exec lint-staged
