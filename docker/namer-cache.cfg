# Namer Configuration - Cache Instance (Fast Processing)
# Aligns with your compose mounts and Namer's config schema

[namer]
# Core directories (inside the container)
watch_dir = /media/watch
work_dir = /media/work
failed_dir = /failed
dest_dir = /media/processed

# Naming template (example)
name_template = [%D] %T - %P%S%E

[watchdog]
# Enable the watchdog and web UI
enabled = true
port = 6980
host = 0.0.0.0
# Processing cadence
queue_limit = 50
extra_sleep_time = 30
# Automatic retries of failed queue daily at 03:00
retry_hour = 3
retry_minute = 0
# Send all to failed for manual review if true
manual_mode = false

[metadata]
# Use StashDB; API key is provided via env: STASHDB_API_KEY
provider = stashdb
endpoint = https://stashdb.org/graphql
update_metadata = true
write_nfo = true

[Phash]
# Enable perceptual hashing for matching
phash = true
search_phash = true
# Optional tunables (keep defaults if unsure)
# threshold = 10

# Permissions (use unRAID PUID/PGID via container env)
[permissions]
update_permissions_ownership = true
chmod_value = 0664
chown_user = nobody
chown_group = users

[logging]
log_file = /logs/namer-cache.log
log_level = INFO
log_rotation = true
log_max_size = 10MB
log_backup_count = 5
